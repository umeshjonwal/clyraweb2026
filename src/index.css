@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================
   ROOT + THEME TOKENS
================================ */
:root {
  --radius: 1.25rem;

  /* Default page accent (Home) */
  --page-accent: 220 90% 60%;
}

@layer base {
  * {
    @apply antialiased;
  }

  html,
  body,
  #root {
    height: 100%;
  }

  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
  }
}

/* ================================
   ðŸŒŒ GLOBAL BACKGROUND EFFECT
   (SINGLE SOURCE OF TRUTH)
================================ */
@layer base {
  html {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  html::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;

    /* Light mode grid + glow */
    background-image:
      linear-gradient(
        rgba(0, 0, 0, 0.05) 1px,
        transparent 4px
      ),
      linear-gradient(
        90deg,
        rgba(0, 0, 0, 0.05) 1px,
        transparent 5px
      ),
      radial-gradient(
        circle at 30% 20%,
        hsl(var(--page-accent) / 0.5),
        transparent 80%
      );

    background-size:
      40px 40px,
      40px 40px,
      100% 100%;

    animation: gridMoveLight 30s linear infinite;
    transition: background-image 0.6s ease;
  }

  .dark html::before {
    background-image:
      linear-gradient(
        rgba(120, 120, 255, 0.10) 1px,
        transparent 1px
      ),
      linear-gradient(
        90deg,
        rgba(120, 120, 255, 0.10) 1px,
        transparent 1px
      ),
      radial-gradient(
        circle at 30% 20%,
        hsl(var(--page-accent) / 0.45),
        transparent 60%
      );

    background-size:
      48px 48px,
      48px 48px,
      100% 100%;

    animation: gridMoveDark 24s linear infinite;
  }
}

/* ================================
   BACKGROUND ANIMATIONS
================================ */
@keyframes gridMoveLight {
  from {
    background-position: 0 0, 0 0, 0 0;
  }
  to {
    background-position: -320px -320px, -320px -320px, 0 0;
  }
}

@keyframes gridMoveDark {
  from {
    background-position: 0 0, 0 0, 0 0;
  }
  to {
    background-position: 420px 420px, 420px 420px, 0 0;
  }
}

/* ================================
   COMPONENTS
================================ */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-2xl px-5 py-3 font-semibold transition shadow-sm hover:shadow;
  }

  .btn-primary {
    @apply bg-brand-600 text-white hover:bg-brand-700;
  }

  .btn-ghost {
    @apply border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-800;
  }

  .card {
    @apply rounded-2xl border border-gray-200 dark:border-gray-800 bg-white/70 dark:bg-gray-900/70 backdrop-blur p-6 shadow-sm;
  }
}

/* ================================
   RESPONSIVE TABLE HELPERS
================================ */
.table-wrap {
  @apply w-full;
}

.table {
  @apply w-full text-left border-collapse hidden;
}

.table th,
.table td {
  @apply p-3 border-b border-gray-200 dark:border-gray-800 align-top;
}

.table-cards {
  @apply grid gap-3;
}

.table-card {
  @apply card;
}

.table-card dt {
  @apply text-xs uppercase tracking-wide text-gray-500 mb-1;
}

.table-card dd {
  @apply text-sm text-gray-800 dark:text-gray-200;
}

/* ================================
   MOTION / INTERACTION
================================ */
.reveal {
  animation: rise 0.6s ease both;
}

@keyframes rise {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hover-3d {
  transition: transform 0.15s ease;
  will-change: transform;
}